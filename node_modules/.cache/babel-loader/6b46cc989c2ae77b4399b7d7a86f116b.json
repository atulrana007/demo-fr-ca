{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";/* eslint-disable react-hooks/rules-of-hooks */import React,{useRef}from\"react\";import{Route,Switch,useLocation}from\"react-router-dom\";import Authorize from\"./components/Authorize\";import Main from\"./Main\";import{AccountProvider}from\"./providers/AccountContext\";import LanguageProvider from\"./localization/languageProvider\";import{LOCALES}from\"./localization/constants\";import{CommonDataProvider}from\"./providers/CommonDataContext\";import\"./app.css\";import{AppProvider}from\"./providers/AppContext\";function useQuery(){return new URLSearchParams(useLocation().search);}var App=function App(_ref){var _query$get;var pageConfig=_ref.pageConfig;var parsedHash=new URLSearchParams(window.location.hash.substr(1));var query=useQuery();var locale=useRef(\"\");var lang;var culture=(_query$get=query.get(\"culture\"))!==null&&_query$get!==void 0?_query$get:parsedHash.get(\"culture\");if(culture===null){if(localStorage.getItem(\"lang\")===null){lang=\"en-us\";}else{lang=localStorage.getItem(\"lang\");}}else{lang=culture;localStorage.setItem(\"lang\",lang);}if(lang===\"en-us\"){locale.current=LOCALES.ENGLISH;}else if(lang===\"fr-ca\"){locale.current=LOCALES.FRENCH;}else{locale.current=\"en-us\";}return/*#__PURE__*/_jsx(CommonDataProvider,{config:pageConfig,children:/*#__PURE__*/_jsx(AppProvider,{children:/*#__PURE__*/_jsx(LanguageProvider,{locale:locale.current,children:/*#__PURE__*/_jsx(AccountProvider,{config:pageConfig,locale:locale.current,children:/*#__PURE__*/_jsx(\"div\",{id:\"app\",className:\"d-flex flex-column h-100\",children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",exact:true,component:function component(){return/*#__PURE__*/_jsx(Main,{});}}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/authorize\",children:/*#__PURE__*/_jsx(Authorize,{config:pageConfig})})]})})})})})});};export default App;","map":{"version":3,"sources":["/home/raramuri/Videos/mcafee/language-test/src/app.js"],"names":["React","useRef","Route","Switch","useLocation","Authorize","Main","AccountProvider","LanguageProvider","LOCALES","CommonDataProvider","AppProvider","useQuery","URLSearchParams","search","App","pageConfig","parsedHash","window","location","hash","substr","query","locale","lang","culture","get","localStorage","getItem","setItem","current","ENGLISH","FRENCH"],"mappings":"wFAAA,+CACA,MAAOA,CAAAA,KAAP,EAAgBC,MAAhB,KAA8B,OAA9B,CACA,OAASC,KAAT,CAAgBC,MAAhB,CAAwBC,WAAxB,KAA2C,kBAA3C,CAEA,MAAOC,CAAAA,SAAP,KAAsB,wBAAtB,CAEA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CAEA,OAASC,eAAT,KAAgC,4BAAhC,CACA,MAAOC,CAAAA,gBAAP,KAA6B,iCAA7B,CACA,OAASC,OAAT,KAAwB,0BAAxB,CACA,OAASC,kBAAT,KAAmC,+BAAnC,CAEA,MAAO,WAAP,CACA,OAASC,WAAT,KAA4B,wBAA5B,CAEA,QAASC,CAAAA,QAAT,EAAoB,CAClB,MAAO,IAAIC,CAAAA,eAAJ,CAAoBT,WAAW,GAAGU,MAAlC,CAAP,CACD,CAED,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,MAAoB,mBAAjBC,CAAAA,UAAiB,MAAjBA,UAAiB,CAC9B,GAAMC,CAAAA,UAAU,CAAG,GAAIJ,CAAAA,eAAJ,CAAoBK,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,MAArB,CAA4B,CAA5B,CAApB,CAAnB,CAEA,GAAIC,CAAAA,KAAK,CAAGV,QAAQ,EAApB,CACA,GAAIW,CAAAA,MAAM,CAAGtB,MAAM,CAAC,EAAD,CAAnB,CACA,GAAIuB,CAAAA,IAAJ,CACA,GAAIC,CAAAA,OAAO,aAAGH,KAAK,CAACI,GAAN,CAAU,SAAV,CAAH,yCAA2BT,UAAU,CAACS,GAAX,CAAe,SAAf,CAAtC,CAEA,GAAID,OAAO,GAAK,IAAhB,CAAsB,CACpB,GAAIE,YAAY,CAACC,OAAb,CAAqB,MAArB,IAAiC,IAArC,CAA2C,CACzCJ,IAAI,CAAG,OAAP,CACD,CAFD,IAEO,CACLA,IAAI,CAAGG,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAP,CACD,CACF,CAND,IAMO,CACLJ,IAAI,CAAGC,OAAP,CACAE,YAAY,CAACE,OAAb,CAAqB,MAArB,CAA6BL,IAA7B,EACD,CAED,GAAIA,IAAI,GAAK,OAAb,CAAsB,CACpBD,MAAM,CAACO,OAAP,CAAiBrB,OAAO,CAACsB,OAAzB,CACD,CAFD,IAEO,IAAIP,IAAI,GAAK,OAAb,CAAsB,CAC3BD,MAAM,CAACO,OAAP,CAAiBrB,OAAO,CAACuB,MAAzB,CACD,CAFM,IAEA,CACLT,MAAM,CAACO,OAAP,CAAiB,OAAjB,CACD,CAED,mBACE,KAAC,kBAAD,EAAoB,MAAM,CAAEd,UAA5B,uBACE,KAAC,WAAD,wBACE,KAAC,gBAAD,EAAkB,MAAM,CAAEO,MAAM,CAACO,OAAjC,uBACE,KAAC,eAAD,EAAiB,MAAM,CAAEd,UAAzB,CAAqC,MAAM,CAAEO,MAAM,CAACO,OAApD,uBACE,YAAK,EAAE,CAAC,KAAR,CAAc,SAAS,CAAC,0BAAxB,uBACE,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,KAA1B,CAA2B,SAAS,CAAE,wCAAM,KAAC,IAAD,IAAN,EAAtC,EADF,cAEE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,YAAlB,uBACE,KAAC,SAAD,EAAW,MAAM,CAAEd,UAAnB,EADF,EAFF,GADF,EADF,EADF,EADF,EADF,EADF,CAkBD,CA7CD,CA+CA,cAAeD,CAAAA,GAAf","sourcesContent":["/* eslint-disable react-hooks/rules-of-hooks */\nimport React, { useRef } from \"react\";\nimport { Route, Switch, useLocation } from \"react-router-dom\";\n\nimport Authorize from \"./components/Authorize\";\n\nimport Main from \"./Main\";\n\nimport { AccountProvider } from \"./providers/AccountContext\";\nimport LanguageProvider from \"./localization/languageProvider\";\nimport { LOCALES } from \"./localization/constants\";\nimport { CommonDataProvider } from \"./providers/CommonDataContext\";\n\nimport \"./app.css\";\nimport { AppProvider } from \"./providers/AppContext\";\n\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\nconst App = ({ pageConfig }) => {\n  const parsedHash = new URLSearchParams(window.location.hash.substr(1));\n\n  let query = useQuery();\n  let locale = useRef(\"\");\n  let lang;\n  let culture = query.get(\"culture\") ?? parsedHash.get(\"culture\");\n\n  if (culture === null) {\n    if (localStorage.getItem(\"lang\") === null) {\n      lang = \"en-us\";\n    } else {\n      lang = localStorage.getItem(\"lang\");\n    }\n  } else {\n    lang = culture;\n    localStorage.setItem(\"lang\", lang);\n  }\n\n  if (lang === \"en-us\") {\n    locale.current = LOCALES.ENGLISH;\n  } else if (lang === \"fr-ca\") {\n    locale.current = LOCALES.FRENCH;\n  } else {\n    locale.current = \"en-us\";\n  }\n\n  return (\n    <CommonDataProvider config={pageConfig}>\n      <AppProvider>\n        <LanguageProvider locale={locale.current}>\n          <AccountProvider config={pageConfig} locale={locale.current}>\n            <div id=\"app\" className=\"d-flex flex-column h-100\">\n              <Switch>\n                <Route path=\"/login\" exact component={() => <Main />} />\n                <Route exact path=\"/authorize\">\n                  <Authorize config={pageConfig} />\n                </Route>\n              </Switch>\n            </div>\n          </AccountProvider>\n        </LanguageProvider>\n      </AppProvider>\n    </CommonDataProvider>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}