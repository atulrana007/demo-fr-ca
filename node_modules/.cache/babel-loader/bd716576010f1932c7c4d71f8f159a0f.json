{"ast":null,"code":"import _regeneratorRuntime from\"/home/raramuri/Videos/McAfee-auth-Official/McAfee-odrplat-auth0-ui/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/raramuri/Videos/McAfee-auth-Official/McAfee-odrplat-auth0-ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/raramuri/Videos/McAfee-auth-Official/McAfee-odrplat-auth0-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";/* eslint-disable react-hooks/exhaustive-deps */import React,{useEffect,useState}from\"react\";import axios from\"axios\";var CommonDataContext=/*#__PURE__*/React.createContext({});var CommonDataProvider=function CommonDataProvider(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),connections=_useState2[0],setConn=_useState2[1];useEffect(function(){var getCommonData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,data,_jsonData$strategies$,filteredData,jsonData,DB_ARRAY;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://\".concat(props.config.auth0Domain,\"/client/\").concat(props.config.clientID,\".js\"));case 2:res=_context.sent;data=res.data;if(typeof data===\"string\"){filteredData=data.slice(16,-2);jsonData=JSON.parse(filteredData);DB_ARRAY=jsonData===null||jsonData===void 0?void 0:(_jsonData$strategies$=jsonData.strategies[0])===null||_jsonData$strategies$===void 0?void 0:_jsonData$strategies$.connections.filter(function(item){return item.name===\"Username-Password-Authentication\";});console.log(\"DB ARRAY RECIVED\",DB_ARRAY);setConn(DB_ARRAY);}case 5:case\"end\":return _context.stop();}}},_callee);}));return function getCommonData(){return _ref.apply(this,arguments);};}();getCommonData();},[]);return/*#__PURE__*/_jsx(CommonDataContext.Provider,{value:{connections:connections},children:props.children});};export{CommonDataProvider,CommonDataContext};","map":{"version":3,"sources":["/home/raramuri/Videos/McAfee-auth-Official/McAfee-odrplat-auth0-ui/src/providers/CommonDataContext.jsx"],"names":["React","useEffect","useState","axios","CommonDataContext","createContext","CommonDataProvider","props","connections","setConn","getCommonData","get","config","auth0Domain","clientID","res","data","filteredData","slice","jsonData","JSON","parse","DB_ARRAY","strategies","filter","item","name","console","log","children"],"mappings":"ueAAA,gDACA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,iBAAiB,cAAGJ,KAAK,CAACK,aAAN,CAAoB,EAApB,CAA1B,CAEA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,KAAD,CAAW,eACLL,QAAQ,CAAC,EAAD,CADH,wCAC7BM,WAD6B,eAChBC,OADgB,eAEpCR,SAAS,CAAC,UAAM,CACd,GAAMS,CAAAA,aAAa,0FAAG,2NACFP,CAAAA,KAAK,CAACQ,GAAN,mBACLJ,KAAK,CAACK,MAAN,CAAaC,WADR,oBAC8BN,KAAK,CAACK,MAAN,CAAaE,QAD3C,QADE,QACdC,GADc,eAIdC,IAJc,CAIPD,GAAG,CAACC,IAJG,CAKpB,GAAI,MAAOA,CAAAA,IAAP,GAAgB,QAApB,CAA8B,CACtBC,YADsB,CACPD,IAAI,CAACE,KAAL,CAAW,EAAX,CAAe,CAAC,CAAhB,CADO,CAEtBC,QAFsB,CAEXC,IAAI,CAACC,KAAL,CAAWJ,YAAX,CAFW,CAGtBK,QAHsB,CAGXH,QAHW,SAGXA,QAHW,wCAGXA,QAAQ,CAAEI,UAAV,CAAqB,CAArB,CAHW,gDAGX,sBAAyBf,WAAzB,CAAqCgB,MAArC,CACf,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACC,IAAL,GAAc,kCAAxB,EADe,CAHW,CAM5BC,OAAO,CAACC,GAAR,CAAY,kBAAZ,CAAgCN,QAAhC,EACAb,OAAO,CAACa,QAAD,CAAP,CACD,CAbmB,sDAAH,kBAAbZ,CAAAA,aAAa,0CAAnB,CAeAA,aAAa,GACd,CAjBQ,CAiBN,EAjBM,CAAT,CAkBA,mBACE,KAAC,iBAAD,CAAmB,QAAnB,EAA4B,KAAK,CAAE,CAAEF,WAAW,CAAXA,WAAF,CAAnC,UACGD,KAAK,CAACsB,QADT,EADF,CAKD,CAzBD,CA2BA,OAASvB,kBAAT,CAA6BF,iBAA7B","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nconst CommonDataContext = React.createContext({});\n\nconst CommonDataProvider = (props) => {\n  const [connections, setConn] = useState([]);\n  useEffect(() => {\n    const getCommonData = async () => {\n      const res = await axios.get(\n        `https://${props.config.auth0Domain}/client/${props.config.clientID}.js`\n      );\n      const data = res.data;\n      if (typeof data === \"string\") {\n        const filteredData = data.slice(16, -2);\n        const jsonData = JSON.parse(filteredData);\n        const DB_ARRAY = jsonData?.strategies[0]?.connections.filter(\n          (item) => item.name === \"Username-Password-Authentication\"\n        );\n        console.log(\"DB ARRAY RECIVED\", DB_ARRAY);\n        setConn(DB_ARRAY);\n      }\n    };\n    getCommonData();\n  }, []);\n  return (\n    <CommonDataContext.Provider value={{ connections }}>\n      {props.children}\n    </CommonDataContext.Provider>\n  );\n};\n\nexport { CommonDataProvider, CommonDataContext };\n"]},"metadata":{},"sourceType":"module"}