{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";/* eslint-disable react-hooks/rules-of-hooks */import React,{useRef}from\"react\";import{Route,Switch,useLocation}from\"react-router-dom\";import Authorize from\"./components/Authorize\";import Main from\"./Main\";import{AccountProvider}from\"./providers/AccountContext\";import LanguageProvider from\"./localization/languageProvider\";import{LOCALES}from\"./localization/constants\";import{CommonDataProvider}from\"./providers/CommonDataContext\";import\"./app.css\";import{AppProvider}from\"./providers/AppContext\";function useQuery(){return new URLSearchParams(useLocation().search);}var App=function App(_ref){var _query$get;var pageConfig=_ref.pageConfig;var parsedHash=new URLSearchParams(window.location.hash.substr(1));if(useLocation().pathname===\"/login\"){sessionStorage.setItem(\"params\",useLocation().search);}var query=useQuery();var locale=useRef(\"\");var lang;var culture=(_query$get=query.get(\"culture\"))!==null&&_query$get!==void 0?_query$get:parsedHash.get(\"culture\");if(culture===null){if(localStorage.getItem(\"lang\")===null){lang=\"en-us\";}else{lang=localStorage.getItem(\"lang\");}}else{lang=culture;localStorage.setItem(\"lang\",lang);}if(lang===\"en-us\"){locale.current=LOCALES.ENGLISH;}else if(lang===\"fr-ca\"){locale.current=LOCALES.FRENCH;}else{locale.current=\"en-us\";}return/*#__PURE__*/_jsx(CommonDataProvider,{config:pageConfig,children:/*#__PURE__*/_jsx(AppProvider,{children:/*#__PURE__*/_jsx(LanguageProvider,{locale:locale.current,children:/*#__PURE__*/_jsx(AccountProvider,{config:pageConfig,children:/*#__PURE__*/_jsx(\"div\",{id:\"app\",className:\"d-flex flex-column h-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container flex-grow-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mt-5\",children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",exact:true,component:function component(){return/*#__PURE__*/_jsx(Main,{});}}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/authorize\",children:/*#__PURE__*/_jsx(Authorize,{config:pageConfig})})]})})})})})})})});};export default App;","map":{"version":3,"sources":["/home/raramuri/Videos/McAfee-auth-Official/McAfee-odrplat-auth0-ui/src/app.js"],"names":["React","useRef","Route","Switch","useLocation","Authorize","Main","AccountProvider","LanguageProvider","LOCALES","CommonDataProvider","AppProvider","useQuery","URLSearchParams","search","App","pageConfig","parsedHash","window","location","hash","substr","pathname","sessionStorage","setItem","query","locale","lang","culture","get","localStorage","getItem","current","ENGLISH","FRENCH"],"mappings":"wFAAA,+CACA,MAAOA,CAAAA,KAAP,EAAgBC,MAAhB,KAA8B,OAA9B,CACA,OAASC,KAAT,CAAgBC,MAAhB,CAAwBC,WAAxB,KAA2C,kBAA3C,CAEA,MAAOC,CAAAA,SAAP,KAAsB,wBAAtB,CAEA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CAEA,OAASC,eAAT,KAAgC,4BAAhC,CACA,MAAOC,CAAAA,gBAAP,KAA6B,iCAA7B,CACA,OAASC,OAAT,KAAwB,0BAAxB,CACA,OAASC,kBAAT,KAAmC,+BAAnC,CAEA,MAAO,WAAP,CACA,OAASC,WAAT,KAA4B,wBAA5B,CAEA,QAASC,CAAAA,QAAT,EAAoB,CAChB,MAAO,IAAIC,CAAAA,eAAJ,CAAoBT,WAAW,GAAGU,MAAlC,CAAP,CACH,CAED,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,MAAoB,mBAAjBC,CAAAA,UAAiB,MAAjBA,UAAiB,CAC5B,GAAMC,CAAAA,UAAU,CAAG,GAAIJ,CAAAA,eAAJ,CAAoBK,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,MAArB,CAA4B,CAA5B,CAApB,CAAnB,CACA,GAAIjB,WAAW,GAAGkB,QAAd,GAA2B,QAA/B,CAAyC,CACrCC,cAAc,CAACC,OAAf,CAAuB,QAAvB,CAAiCpB,WAAW,GAAGU,MAA/C,EACH,CAED,GAAIW,CAAAA,KAAK,CAAGb,QAAQ,EAApB,CACA,GAAIc,CAAAA,MAAM,CAAGzB,MAAM,CAAC,EAAD,CAAnB,CACA,GAAI0B,CAAAA,IAAJ,CACA,GAAIC,CAAAA,OAAO,aAAGH,KAAK,CAACI,GAAN,CAAU,SAAV,CAAH,yCAA2BZ,UAAU,CAACY,GAAX,CAAe,SAAf,CAAtC,CAEA,GAAID,OAAO,GAAK,IAAhB,CAAsB,CAClB,GAAIE,YAAY,CAACC,OAAb,CAAqB,MAArB,IAAiC,IAArC,CAA2C,CACvCJ,IAAI,CAAG,OAAP,CACH,CAFD,IAEO,CACHA,IAAI,CAAGG,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAP,CACH,CACJ,CAND,IAMO,CACHJ,IAAI,CAAGC,OAAP,CACAE,YAAY,CAACN,OAAb,CAAqB,MAArB,CAA6BG,IAA7B,EACH,CAED,GAAIA,IAAI,GAAK,OAAb,CAAsB,CAClBD,MAAM,CAACM,OAAP,CAAiBvB,OAAO,CAACwB,OAAzB,CACH,CAFD,IAEO,IAAIN,IAAI,GAAK,OAAb,CAAsB,CACzBD,MAAM,CAACM,OAAP,CAAiBvB,OAAO,CAACyB,MAAzB,CACH,CAFM,IAEA,CACHR,MAAM,CAACM,OAAP,CAAiB,OAAjB,CACH,CAED,mBACI,KAAC,kBAAD,EAAoB,MAAM,CAAEhB,UAA5B,uBACI,KAAC,WAAD,wBACI,KAAC,gBAAD,EAAkB,MAAM,CAAEU,MAAM,CAACM,OAAjC,uBACI,KAAC,eAAD,EAAiB,MAAM,CAAEhB,UAAzB,uBACI,YAAK,EAAE,CAAC,KAAR,CAAc,SAAS,CAAC,0BAAxB,uBACI,YAAK,SAAS,CAAC,uBAAf,uBACI,YAAK,SAAS,CAAC,MAAf,uBACI,MAAC,MAAD,yBACI,KAAC,KAAD,EACI,IAAI,CAAC,QADT,CAEI,KAAK,KAFT,CAGI,SAAS,CAAE,wCAAM,KAAC,IAAD,IAAN,EAHf,EADJ,cAMI,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,YAAlB,uBACI,KAAC,SAAD,EAAW,MAAM,CAAEA,UAAnB,EADJ,EANJ,GADJ,EADJ,EADJ,EADJ,EADJ,EADJ,EADJ,EADJ,CA0BH,CAxDD,CA0DA,cAAeD,CAAAA,GAAf","sourcesContent":["/* eslint-disable react-hooks/rules-of-hooks */\nimport React, { useRef } from \"react\";\nimport { Route, Switch, useLocation } from \"react-router-dom\";\n\nimport Authorize from \"./components/Authorize\";\n\nimport Main from \"./Main\";\n\nimport { AccountProvider } from \"./providers/AccountContext\";\nimport LanguageProvider from \"./localization/languageProvider\";\nimport { LOCALES } from \"./localization/constants\";\nimport { CommonDataProvider } from \"./providers/CommonDataContext\";\n\nimport \"./app.css\";\nimport { AppProvider } from \"./providers/AppContext\";\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nconst App = ({ pageConfig }) => {\n    const parsedHash = new URLSearchParams(window.location.hash.substr(1));\n    if (useLocation().pathname === \"/login\") {\n        sessionStorage.setItem(\"params\", useLocation().search);\n    }\n\n    let query = useQuery();\n    let locale = useRef(\"\");\n    let lang;\n    let culture = query.get(\"culture\") ?? parsedHash.get(\"culture\");\n\n    if (culture === null) {\n        if (localStorage.getItem(\"lang\") === null) {\n            lang = \"en-us\";\n        } else {\n            lang = localStorage.getItem(\"lang\");\n        }\n    } else {\n        lang = culture;\n        localStorage.setItem(\"lang\", lang);\n    }\n\n    if (lang === \"en-us\") {\n        locale.current = LOCALES.ENGLISH;\n    } else if (lang === \"fr-ca\") {\n        locale.current = LOCALES.FRENCH;\n    } else {\n        locale.current = \"en-us\";\n    }\n\n    return (\n        <CommonDataProvider config={pageConfig}>\n            <AppProvider>\n                <LanguageProvider locale={locale.current}>\n                    <AccountProvider config={pageConfig}>\n                        <div id=\"app\" className=\"d-flex flex-column h-100\">\n                            <div className=\"container flex-grow-1\">\n                                <div className=\"mt-5\">\n                                    <Switch>\n                                        <Route\n                                            path=\"/login\"\n                                            exact\n                                            component={() => <Main />}\n                                        />\n                                        <Route exact path=\"/authorize\">\n                                            <Authorize config={pageConfig} />\n                                        </Route>\n                                    </Switch>\n                                </div>\n                            </div>\n                        </div>\n                    </AccountProvider>\n                </LanguageProvider>\n            </AppProvider>\n        </CommonDataProvider>\n    );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}