{"ast":null,"code":"import _slicedToArray from\"/home/raramuri/Videos/mcafee/language-test/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState}from\"react\";import auth0 from\"auth0-js\";var AccountContext=/*#__PURE__*/React.createContext({});var AccountProvider=function AccountProvider(props){var locale=props.locale;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isAuthenticated=_useState2[0],setIsAuth=_useState2[1];var AuthenticateUser=function AuthenticateUser(authToken){localStorage.setItem(\"auth_token\",authToken);setIsAuth(true);};var storeUserData=function storeUserData(data){localStorage.setItem(\"userData\",JSON.stringify(data));};console.log(\"configs\",props);var webAuth=new auth0.WebAuth({domain:props.config.auth0Domain,clientID:props.config.clientID,redirectUri:props.config.callbackURL,responseType:props.config.extraParams.response_type,scope:props.config.extraParams.scope,state:props.config.extraParams.state,nonce:props.config.extraParams.nonce,_csrf:props.config.extraParams._csrf,audience:props.config.extraParams.audience,overrides:{__tenant:props.config.auth0Tenant}});// const webAuth = new auth0.WebAuth({\n//   domain: process.env.REACT_APP_AUTH0_DOMAIN,\n//   clientID: process.env.REACT_APP_AUTH0_CLIENT_ID,\n//   responseType: \"token id_token\",\n//   redirectUri: \"http://localhost:4040/authorize\",\n// });\nvar getSocialLogin=function getSocialLogin(name){return new Promise(function(resolve,reject){webAuth.authorize({connection:name},function(err,res){if(err){console.log(err);reject(err);}else{resolve(res);}});});};var SignupWithPassword=function SignupWithPassword(email,password){var userMetadata={lang:locale};return new Promise(function(resolve,reject){var variables={connection:\"Username-Password-Authentication\",email:email,password:password,userMetadata:userMetadata};webAuth.signup(variables,function(err,authResult){if(err){console.log(err);reject(err);return;}if(authResult){window.origin=window.location.origin;resolve(authResult);}});});};var otpStart=function otpStart(email){return new Promise(function(resolve,reject){var variables={email:email,connection:\"email\",send:\"code\"};webAuth.passwordlessStart(variables,function(err,res){if(err){console.log(err);reject(err);}else{resolve(res);}});});};var otpLogin=function otpLogin(email,otp){return new Promise(function(resolve,reject){webAuth.passwordlessLogin({email:email,connection:\"email\",verificationCode:otp},function(err,res){if(err){reject(err);}else{window.origin=window.location.origin;resolve(res);}});});};var loginWithPassword=function loginWithPassword(username,password){return new Promise(function(resolve,reject){webAuth.login({realm:\"Username-Password-Authentication\",username:username,password:password},function(err,authResult){if(err){console.log(err);reject(err);return;}if(authResult){window.origin=window.location.origin;resolve(authResult);}});});};return/*#__PURE__*/_jsx(AccountContext.Provider,{value:{webAuth:webAuth,otpStart:otpStart,otpLogin:otpLogin,loginWithPassword:loginWithPassword,SignupWithPassword:SignupWithPassword,AuthenticateUser:AuthenticateUser,storeUserData:storeUserData,isAuthenticated:isAuthenticated,getSocialLogin:getSocialLogin},children:props.children});};export{AccountProvider,AccountContext};","map":{"version":3,"sources":["/home/raramuri/Videos/mcafee/language-test/src/providers/AccountContext.jsx"],"names":["React","useState","auth0","AccountContext","createContext","AccountProvider","props","locale","isAuthenticated","setIsAuth","AuthenticateUser","authToken","localStorage","setItem","storeUserData","data","JSON","stringify","console","log","webAuth","WebAuth","domain","config","auth0Domain","clientID","redirectUri","callbackURL","responseType","extraParams","response_type","scope","state","nonce","_csrf","audience","overrides","__tenant","auth0Tenant","getSocialLogin","name","Promise","resolve","reject","authorize","connection","err","res","SignupWithPassword","email","password","userMetadata","lang","variables","signup","authResult","window","origin","location","otpStart","send","passwordlessStart","otpLogin","otp","passwordlessLogin","verificationCode","loginWithPassword","username","login","realm","children"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport auth0 from \"auth0-js\";\n\nconst AccountContext = React.createContext({});\n\nconst AccountProvider = (props) => {\n  const { locale } = props;\n  const [isAuthenticated, setIsAuth] = useState(false);\n\n  const AuthenticateUser = (authToken) => {\n    localStorage.setItem(\"auth_token\", authToken);\n    setIsAuth(true);\n  };\n\n  const storeUserData = (data) => {\n    localStorage.setItem(\"userData\", JSON.stringify(data));\n  };\n  console.log(\"configs\", props);\n  const webAuth = new auth0.WebAuth({\n    domain: props.config.auth0Domain,\n    clientID: props.config.clientID,\n    redirectUri: props.config.callbackURL,\n    responseType: props.config.extraParams.response_type,\n    scope: props.config.extraParams.scope,\n    state: props.config.extraParams.state,\n    nonce: props.config.extraParams.nonce,\n    _csrf: props.config.extraParams._csrf,\n    audience: props.config.extraParams.audience,\n    overrides: { __tenant: props.config.auth0Tenant },\n  });\n  // const webAuth = new auth0.WebAuth({\n  //   domain: process.env.REACT_APP_AUTH0_DOMAIN,\n  //   clientID: process.env.REACT_APP_AUTH0_CLIENT_ID,\n  //   responseType: \"token id_token\",\n  //   redirectUri: \"http://localhost:4040/authorize\",\n  // });\n  const getSocialLogin = (name) => {\n    return new Promise((resolve, reject) => {\n      webAuth.authorize(\n        {\n          connection: name,\n        },\n        (err, res) => {\n          if (err) {\n            console.log(err);\n            reject(err);\n          } else {\n            resolve(res);\n          }\n        }\n      );\n    });\n  };\n\n  const SignupWithPassword = (email, password) => {\n    const userMetadata = {\n      lang: locale,\n    };\n    return new Promise((resolve, reject) => {\n      const variables = {\n        connection: \"Username-Password-Authentication\",\n        email,\n        password,\n        userMetadata,\n      };\n      webAuth.signup(variables, (err, authResult) => {\n        if (err) {\n          console.log(err);\n          reject(err);\n          return;\n        }\n        if (authResult) {\n          window.origin = window.location.origin;\n          resolve(authResult);\n        }\n      });\n    });\n  };\n\n  const otpStart = (email) => {\n    return new Promise((resolve, reject) => {\n      const variables = { email, connection: \"email\", send: \"code\" };\n      webAuth.passwordlessStart(variables, (err, res) => {\n        if (err) {\n          console.log(err);\n          reject(err);\n        } else {\n          resolve(res);\n        }\n      });\n    });\n  };\n\n  const otpLogin = (email, otp) => {\n    return new Promise((resolve, reject) => {\n      webAuth.passwordlessLogin(\n        { email, connection: \"email\", verificationCode: otp },\n        (err, res) => {\n          if (err) {\n            reject(err);\n          } else {\n            window.origin = window.location.origin;\n            resolve(res);\n          }\n        }\n      );\n    });\n  };\n\n  const loginWithPassword = (username, password) => {\n    return new Promise((resolve, reject) => {\n      webAuth.login(\n        {\n          realm: \"Username-Password-Authentication\",\n          username,\n          password,\n        },\n        (err, authResult) => {\n          if (err) {\n            console.log(err);\n            reject(err);\n            return;\n          }\n          if (authResult) {\n            window.origin = window.location.origin;\n            resolve(authResult);\n          }\n        }\n      );\n    });\n  };\n\n  return (\n    <AccountContext.Provider\n      value={{\n        webAuth,\n        otpStart,\n        otpLogin,\n        loginWithPassword,\n        SignupWithPassword,\n        AuthenticateUser,\n        storeUserData,\n        isAuthenticated,\n        getSocialLogin,\n      }}\n    >\n      {props.children}\n    </AccountContext.Provider>\n  );\n};\n\nexport { AccountProvider, AccountContext };\n"]},"metadata":{},"sourceType":"module"}